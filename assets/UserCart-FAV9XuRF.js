import{F as f}from"./FooterBanner-mT58ci0P.js";import{_ as C,m as w,a as q,r as m,o as n,c as l,b as t,B as x,F as r,u,d as _,w as p,t as d,f as a,G as $,e as y,H as v,y as I,z as Q}from"./index-9otgFh7R.js";import{c as g}from"./cartStore-2yvYiTfH.js";import"./sweetalert2.all-FDU-Qoun.js";const U={data(){return{product:{}}},methods:{...w(g,["addToCart","removeAllCart","removeCartItem","changeCartQty"])},computed:{...q(g,["carts","status","final_total","total"])},components:{FooterBanner:f},mounted(){}},e=o=>(I("data-v-b0d6187a"),o=o(),Q(),o),V=e(()=>t("div",{class:"container"},[t("div",{class:"row justify-content-center mt-5"},[t("div",{class:"col-md-10 col-12"},[t("div",{class:"position-relative m-4 px-5"},[t("div",{class:"progress",style:{height:"1px"}},[t("div",{class:"progress-bar",role:"progressbar","aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100"})]),t("button",{type:"button",class:"position-absolute top-0 start-0 ms-3 translate-middle btn btn-sm btn-primary rounded-pill text-white",style:{width:"2rem",height:"2rem"}},"1"),t("button",{type:"button",class:"position-absolute top-0 start-50 translate-middle btn btn-sm btn-secondary rounded-pill",style:{width:"2rem",height:"2rem",cursor:"default"}},"2"),t("button",{type:"button",class:"position-absolute top-0 translate-middle btn btn-sm btn-secondary rounded-pill",style:{width:"2rem",height:"2rem",left:"99%",cursor:"default"}},"3")]),t("div",{class:"row text-primary"},[t("div",{class:"col text-start"},"確認商品"),t("div",{class:"col"},"確認購買資訊"),t("div",{class:"col text-end"},"付款確認")])])])],-1)),B={class:"container py-5 px-md-5 px-2"},L=e(()=>t("h2",{class:"text-center text-primary fs-3 fw-bold pb-2 py-4"}," 購物車列表",-1)),N={class:"table align-middle d-md-block d-none"},S=e(()=>t("thead",{class:"border"},[t("tr",null,[t("th",null,"品名"),t("th",{style:{width:"20%"}},"數量/單位"),t("th",{class:"text-center",style:{width:"15%"}},"單價"),t("th",{style:{width:"10%"}})])],-1)),T={class:"border"},j={class:"w-auto align-middle"},A={class:"row align-items-center"},F={class:"col-md-3 col-6"},z=["src","alt"],D={class:"col-md-9 col-6 my-0 py-0 text-start ps-4"},H={class:"input-group input-group-sm"},P={class:"input-group mb-3"},R=["disabled","onClick"],E=["onClick"],G=e(()=>t("i",{class:"bi bi-trash3"},null,-1)),M=[G],O=["onUpdate:modelValue","disabled"],J=["onClick"],K={class:"input-group-text",id:"basic-addon2"},W=["onClick","disabled"],X=e(()=>t("i",{class:"bi bi-x-lg text-danger fs-5"},null,-1)),Y=[X],Z={key:1},tt={colspan:"4"},st={class:"h4 py-4"},ot=e(()=>t("p",null,"購物車目前沒有品項",-1)),et=e(()=>t("div",{class:"btnProduct"},[a(" 來去找行程 "),t("i",{class:"bi bi-chevron-double-right"})],-1)),nt={class:"border"},lt=e(()=>t("td",{colspan:"3",class:"text-end"},"總計",-1)),it={class:"text-end fs-5"},dt={class:"d-md-none d-block"},at={class:"bg-light px-4 py-2"},ct=e(()=>t("h4",{class:"fw-bold fs-3 my-3"},[t("i",{class:"bi bi-list-ol pe-2"}),a("購物車明細")],-1)),rt={class:"col-12"},bt=["src","alt"],ut={class:"col-12 my-0 py-0 text-start"},_t={class:"my-2 pb-1"},pt={class:"input-group input-group-sm mb-3 w-50"},ht=["disabled","onClick"],mt=["onClick"],yt=e(()=>t("i",{class:"bi bi-trash3"},null,-1)),vt=[yt],gt=["onUpdate:modelValue","disabled"],kt=["onClick"],ft={class:"input-group-text",id:"basic-addon2"},Ct={key:1},wt={colspan:"4"},qt={class:"h4 py-4"},xt=e(()=>t("p",null,"購物車目前沒有品項",-1)),$t=e(()=>t("div",{class:"btnProduct"},[a(" 來去找行程 "),t("i",{class:"bi bi-chevron-double-right"})],-1)),It={class:"text-start d-md-none d-block mb-3"},Qt=["disabled"],Ut=e(()=>t("i",{class:"bi bi-trash3-fill"},null,-1)),Vt={class:"border border-1 px-2 py-2 my-3 table-responsive"},Bt=e(()=>t("h4",{class:"fw-bold"},[t("i",{class:"bi bi-vector-pen pe-2"}),a("訂單摘要")],-1)),Lt={class:"table align-middle d-md-none d-block table-borderless"},Nt=e(()=>t("thead",null,[t("tr",null,[t("th",{scope:"col"},"品名"),t("th",{scope:"col"},"數量"),t("th",{scope:"col",class:"w-25"},"單價")])],-1)),St={class:"col-6 my-0 text-start align-top"},Tt={class:"col-2 align-top"},jt={class:"col-4 align-top text-end"},At={key:1},Ft=e(()=>t("hr",{class:"border border-1"},null,-1)),zt={class:"align-text-bottom w-100 text-end"},Dt=e(()=>t("span",{class:"text-end align-bottom",colspan:"2"},"總計",-1)),Ht={class:"text-end fs-5 align-bottom"},Pt={class:"text-end d-md-block d-none"},Rt=["disabled"],Et=e(()=>t("i",{class:"bi bi-trash3-fill"},null,-1)),Gt=["disabled"],Mt=e(()=>t("button",{class:"btn btn-primary text-white",type:"submit"}," 確認結帳 ",-1));function Ot(o,c,Jt,Kt,h,Wt){const b=m("RouterLink"),k=m("footer-banner");return n(),l(r,null,[V,t("div",B,[t("div",{class:x({fullH:Object.keys(o.carts).length<1})},[L,t("table",N,[S,t("tbody",T,[o.total!==0?(n(!0),l(r,{key:0},u(o.carts,s=>(n(),l("tr",{key:s.id},[t("td",j,[t("div",A,[t("div",F,[t("img",{src:s.product.imageUrl,class:"img-fluid rounded object-fit-cover",alt:h.product.title},null,8,z)]),t("h4",D,d(s.product.title),1)])]),t("td",null,[t("div",H,[t("div",P,[s.qty>1?(n(),l("button",{key:0,typr:"button",class:"btn btn-outline-primary",disabled:s.qty===1,onClick:i=>{s.qty--,o.changeCartQty(s,s.qty)}}," - ",8,R)):(n(),l("button",{key:1,typr:"button",class:"btn btn-outline-danger",onClick:i=>o.removeCartItem(s.id)},M,8,E)),y(t("input",{min:"1",typr:"number",class:"form-control text-center","onUpdate:modelValue":i=>s.qty=i,disabled:s.id===o.status.cartQtyLoading,readonly:""},null,8,O),[[v,s.qty]]),t("button",{typr:"button",class:"btn btn-outline-primary",onClick:i=>{s.qty++,o.changeCartQty(s,s.qty)}}," + ",8,J),t("span",K,d(s.product.unit),1)])])]),t("td",null," NT "+d(s.total)+" 元 ",1),t("td",null,[t("button",{type:"button",class:"btn btn-sm btn-link",onClick:i=>o.removeCartItem(s.id),disabled:s.id===o.status.cartQtyLoading},Y,8,W)])]))),128)):(n(),l("tr",Z,[t("th",tt,[t("div",st,[ot,_(b,{to:"/products",class:"text-decoration-none"},{default:p(()=>[et]),_:1})])])]))]),t("tfoot",nt,[t("tr",null,[lt,t("td",it,d(o.final_total),1)])])]),t("div",dt,[t("div",at,[ct,o.total!==0?(n(!0),l(r,{key:0},u(o.carts,s=>(n(),l("div",{key:s.id,class:"row align-items-center justify-content-center mb-2"},[t("div",rt,[t("img",{src:s.product.imageUrl,class:"img-fluid rounded object-fit-cover",alt:h.product.title},null,8,bt)]),t("div",ut,[t("h4",_t,d(s.product.title),1),t("div",null,[t("div",pt,[s.qty>1?(n(),l("button",{key:0,typr:"button",class:"btn btn-outline-primary",disabled:s.qty===1,onClick:i=>{s.qty--,o.changeCartQty(s,s.qty)}}," - ",8,ht)):(n(),l("button",{key:1,typr:"button",class:"btn btn-outline-danger",onClick:i=>o.removeCartItem(s.id)},vt,8,mt)),y(t("input",{min:"1",typr:"number",class:"form-control text-center w-25","onUpdate:modelValue":i=>s.qty=i,disabled:s.id===o.status.cartQtyLoading,readonly:""},null,8,gt),[[v,s.qty]]),t("button",{typr:"button",class:"btn btn-outline-primary",onClick:i=>{s.qty++,o.changeCartQty(s,s.qty)}}," + ",8,kt),t("span",ft,d(s.product.unit),1)])])])]))),128)):(n(),l("tr",Ct,[t("th",wt,[t("div",qt,[xt,_(b,{to:"/products",class:"text-decoration-none"},{default:p(()=>[$t]),_:1})])])])),t("div",It,[t("button",{class:"btn btn-outline-danger",type:"button",disabled:o.carts.length===0,onClick:c[0]||(c[0]=s=>o.removeAllCart(o.carts))},[Ut,a("一鍵ㄌ清空購物車")],8,Qt)])]),t("div",Vt,[Bt,t("table",Lt,[Nt,t("tbody",null,[o.total!==0?(n(!0),l(r,{key:0},u(o.carts,s=>(n(),l("tr",{key:s.id},[t("td",St,d(s.product.title),1),t("td",Tt,d(s.qty)+"/人",1),t("td",jt,"NT "+d(s.final_total)+" 元",1)]))),128)):(n(),l("td",At,"購物車目前沒有品項"))]),Ft,t("div",null,[t("div",zt,[Dt,t("span",Ht,"NT "+d(o.final_total)+" 元",1)])])])])]),t("div",Pt,[t("button",{class:"btn btn-outline-danger mb-md-2 mb-5",type:"button",disabled:o.carts.length===0,onClick:c[1]||(c[1]=s=>o.removeAllCart(o.carts))},[Et,a("一鍵清空購物車")],8,Rt)]),t("div",null,[o.carts.length===0?(n(),l("button",{key:0,class:"btn btn-primary text-white",type:"submit",disabled:o.carts.length===0}," 確認結帳 ",8,Gt)):(n(),$(b,{key:1,to:"/form"},{default:p(()=>[Mt]),_:1}))])],2)]),_(k)],64)}const ss=C(U,[["render",Ot],["__scopeId","data-v-b0d6187a"]]);export{ss as default};

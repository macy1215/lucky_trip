import{F as h}from"./FooterBanner-wwJWrCHb.js";import{_ as y,m as f,a as C,r as c,o,c as n,b as t,B as g,F as u,u as v,t as i,d as p,w as k,E as w,f as q,e as I,G as $,y as L,z as S}from"./index-DRP39y-N.js";import{c as _}from"./cartStore-Z9Wkof3c.js";import"./sweetalert2.all-LeBMo2cv.js";const V={data(){return{product:{}}},methods:{...f(_,["addToCart","removeAllCart","removeCartItem","changeCartQty"])},computed:{...C(_,["carts","status","final_total","total"])},components:{FooterBanner:h},mounted(){}},d=e=>(L("data-v-3e51c386"),e=e(),S(),e),x={class:"container px-md-5 px-2"},B=d(()=>t("thead",{class:"border"},[t("tr",null,[t("th"),t("th",null,"品名"),t("th",{style:{width:"180px"}},"數量/單位"),t("th",{class:"text-center"},"單價")])],-1)),Q={class:"border"},F=["onClick","disabled"],N={key:0,class:"fas fa-spinner fa-pulse"},U={class:"w-auto align-middle"},A={class:"row align-items-center"},T={class:"col-md-2 col-6"},j=["src","alt"],z={class:"col-md-6 col-6 my-0 py-0 text-start ps-4"},D={class:"input-group input-group-sm"},E={class:"input-group mb-3"},R=["disabled","onClick"],G=["onClick"],H=d(()=>t("i",{class:"bi bi-trash3"},null,-1)),M=[H],O=["onUpdate:modelValue","disabled"],J=["onClick"],K={class:"input-group-text",id:"basic-addon2"},P={class:"text-end"},W={key:1},X=d(()=>t("td",{class:"h4 py-4",colspan:"4"}," 購物車無商品 ",-1)),Y=[X],Z={class:"border"},tt=d(()=>t("td",{colspan:"3",class:"text-end"},"總計",-1)),st={class:"text-end fs-5"},et={class:"text-end"},ot=["disabled"],nt=d(()=>t("button",{class:"btn btn-primary text-white",type:"submit"}," 確認結帳 ",-1));function at(e,l,dt,it,r,lt){const m=c("RouterLink"),b=c("footer-banner");return o(),n(u,null,[t("div",x,[t("table",{class:g(["table align-middle",{fullH:Object.keys(r.product).length<3}])},[B,t("tbody",Q,[e.total!==0?(o(!0),n(u,{key:0},v(e.carts,s=>(o(),n("tr",{key:s.id},[t("td",null,[t("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:a=>e.removeCartItem(s.id),disabled:s.id===e.status.cartQtyLoading},[s.id===e.status.showCartLoading?(o(),n("i",N)):w("",!0),q(" x ")],8,F)]),t("td",U,[t("div",A,[t("div",T,[t("img",{src:s.product.imageUrl,class:"img-fluid rounded object-fit-cover",alt:r.product.title},null,8,j)]),t("h4",z,i(s.product.title),1)])]),t("td",null,[t("div",D,[t("div",E,[s.qty>1?(o(),n("button",{key:0,typr:"button",class:"btn btn-outline-primary",disabled:s.qty===1,onClick:a=>{s.qty--,e.changeCartQty(s,s.qty)}}," - ",8,R)):(o(),n("button",{key:1,typr:"button",class:"btn btn-outline-danger",onClick:a=>e.removeCartItem(s.id)},M,8,G)),I(t("input",{min:"1",typr:"number",class:"form-control","onUpdate:modelValue":a=>s.qty=a,disabled:s.id===e.status.cartQtyLoading,readonly:""},null,8,O),[[$,s.qty]]),t("button",{typr:"button",class:"btn btn-outline-primary",onClick:a=>{s.qty++,e.changeCartQty(s,s.qty)}}," + ",8,J),t("span",K,i(s.product.unit),1)])])]),t("td",P,i(s.total),1)]))),128)):(o(),n("tr",W,Y))]),t("tfoot",Z,[t("tr",null,[tt,t("td",st,i(e.final_total),1)])])],2),t("div",et,[t("button",{class:"btn btn-outline-danger",type:"button",disabled:e.carts.total===0,onClick:l[0]||(l[0]=s=>e.removeAllCart(e.carts))},"清空購物車",8,ot)]),p(m,{to:"/form"},{default:k(()=>[nt]),_:1})]),p(b)],64)}const _t=y(V,[["render",at],["__scopeId","data-v-3e51c386"]]);export{_t as default};

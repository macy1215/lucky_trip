import{F as f}from"./FooterBanner-50uiMk4q.js";import{_ as C,m as w,a as q,r as m,o as n,c as l,b as t,B as x,F as c,u,d as p,w as _,t as d,f as a,G as $,e as y,H as v,y as I,z as Q}from"./index-ofKIBdRT.js";import{c as g}from"./cartStore-EBiZdx4G.js";import"./sweetalert2.all-3TZsKIdH.js";const U={data(){return{product:{}}},methods:{...w(g,["addToCart","removeAllCart","removeCartItem","changeCartQty"])},computed:{...q(g,["carts","status","final_total","total"])},components:{FooterBanner:f},mounted(){}},e=o=>(I("data-v-785b5c7c"),o=o(),Q(),o),V=e(()=>t("div",{class:"container"},[t("div",{class:"row justify-content-center mt-5"},[t("div",{class:"col-md-10 col-12"},[t("div",{class:"position-relative m-4 px-5"},[t("div",{class:"progress",style:{height:"1px"}},[t("div",{class:"progress-bar",role:"progressbar","aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100"})]),t("button",{type:"button",class:"position-absolute top-0 start-0 ms-3 translate-middle btn btn-sm btn-primary rounded-pill text-white",style:{width:"2rem",height:"2rem"}}," 1 "),t("button",{type:"button",class:"position-absolute top-0 start-50 translate-middle btn btn-sm btn-secondary rounded-pill",style:{width:"2rem",height:"2rem",cursor:"default"}}," 2 "),t("button",{type:"button",class:"position-absolute top-0 translate-middle btn btn-sm btn-secondary rounded-pill",style:{width:"2rem",height:"2rem",left:"99%",cursor:"default"}}," 3 ")]),t("div",{class:"row text-primary"},[t("div",{class:"col text-start"},"確認商品"),t("div",{class:"col"},"確認購買資訊"),t("div",{class:"col text-end"},"付款確認")])])])],-1)),B={class:"container py-5 px-md-5 px-2"},L=e(()=>t("h2",{class:"text-center text-primary fs-3 fw-bold pb-2 py-4"}," 購物車列表 ",-1)),N={class:"d-md-block d-none"},S={class:"table"},T=e(()=>t("thead",{class:"border"},[t("tr",null,[t("th",{scope:"col"},"品名"),t("th",{scope:"col"},"數量/單位"),t("th",{scope:"col",class:"text-center"},"單價"),t("th",{scope:"col"},"刪除")])],-1)),j={class:"border mx-auto align-middle"},A={key:0},F={class:"row align-items-center"},z={class:"col-md-3 col-6"},D=["src","alt"],H={class:"col-md-9 col-6 my-0 py-0 text-start ps-4"},P={class:"input-group input-group-sm"},R={class:"input-group mb-3"},E=["disabled","onClick"],G=["onClick"],M=e(()=>t("i",{class:"bi bi-trash3"},null,-1)),O=[M],J=["onUpdate:modelValue","disabled"],K=["onClick"],W={class:"input-group-text",id:"basic-addon2"},X=["onClick","disabled"],Y=e(()=>t("i",{class:"bi bi-x-lg text-danger fs-5"},null,-1)),Z=[Y],tt={key:1},st={class:"py-4 mx-auto",colspan:"4"},ot=e(()=>t("p",{class:"h4"},"購物車目前沒有品項",-1)),et=e(()=>t("div",{class:"btnProduct"},[a(" 來去找行程 "),t("i",{class:"bi bi-chevron-double-right"})],-1)),nt={class:"border"},lt=e(()=>t("td",{colspan:"3",class:"text-end"},"總計",-1)),it={class:"text-end fs-5"},dt={class:"d-md-none d-block"},at={class:"bg-light px-4 py-2"},ct=e(()=>t("h4",{class:"fw-bold fs-3 my-3"},[t("i",{class:"bi bi-list-ol pe-2"}),a("購物車明細 ")],-1)),rt={class:"col-12"},bt=["src","alt"],ut={class:"col-12 my-0 py-0 text-start"},pt={class:"my-2 pb-1"},_t={class:"input-group input-group-sm mb-3 w-50"},ht=["disabled","onClick"],mt=["onClick"],yt=e(()=>t("i",{class:"bi bi-trash3"},null,-1)),vt=[yt],gt=["onUpdate:modelValue","disabled"],kt=["onClick"],ft={class:"input-group-text",id:"basic-addon2"},Ct={key:1,class:"h4 py-4"},wt=e(()=>t("p",null,"購物車目前沒有品項",-1)),qt=e(()=>t("div",{class:"btnProduct"},[a(" 來去找行程 "),t("i",{class:"bi bi-chevron-double-right"})],-1)),xt={class:"text-end d-md-none d-block mb-3"},$t=["disabled"],It=e(()=>t("i",{class:"bi bi-trash3-fill"},null,-1)),Qt={class:"border border-1 px-2 py-2 my-3 table-responsive"},Ut=e(()=>t("h4",{class:"fw-bold"},[t("i",{class:"bi bi-vector-pen pe-2"}),a("訂單摘要")],-1)),Vt={class:"table align-middle d-md-none d-block table-borderless"},Bt=e(()=>t("thead",null,[t("tr",null,[t("th",{scope:"col"},"品名"),t("th",{scope:"col"},"數量"),t("th",{scope:"col",class:"w-25"},"單價")])],-1)),Lt={key:0},Nt={class:"col-6 my-0 text-start align-top"},St={class:"col-2 align-top"},Tt={class:"col-4 align-top text-end"},jt={key:1},At=e(()=>t("td",{colspan:"3"},[t("p",null,"購物車目前沒有品項")],-1)),Ft=[At],zt=e(()=>t("hr",{class:"border border-1"},null,-1)),Dt={class:"align-text-bottom w-100 text-end"},Ht=e(()=>t("span",{class:"text-end align-bottom",colspan:"2"},"總計",-1)),Pt={class:"text-end fs-5 align-bottom"},Rt={class:"text-end d-md-block d-none"},Et=["disabled"],Gt=e(()=>t("i",{class:"bi bi-trash3-fill"},null,-1)),Mt=["disabled"],Ot=e(()=>t("button",{class:"btn btn-primary text-white",type:"submit"}," 確認結帳 ",-1));function Jt(o,r,Kt,Wt,h,Xt){const b=m("RouterLink"),k=m("footer-banner");return n(),l(c,null,[V,t("div",B,[t("div",{class:x({fullH:Object.keys(o.carts).length<1})},[L,t("div",N,[t("table",S,[T,t("tbody",j,[o.total!==0?(n(),l("tr",A,[(n(!0),l(c,null,u(o.carts,s=>(n(),l(c,{key:s.id},[t("th",null,[t("div",F,[t("div",z,[t("img",{src:s.product.imageUrl,class:"img-fluid rounded object-fit-cover",alt:h.product.title},null,8,D)]),t("h4",H,d(s.product.title),1)])]),t("td",null,[t("div",P,[t("div",R,[s.qty>1?(n(),l("button",{key:0,typr:"button",class:"btn btn-outline-primary",disabled:s.qty===1,onClick:i=>{s.qty--,o.changeCartQty(s,s.qty)}}," - ",8,E)):(n(),l("button",{key:1,typr:"button",class:"btn btn-outline-danger",onClick:i=>o.removeCartItem(s.id)},O,8,G)),y(t("input",{min:"1",typr:"number",class:"form-control text-center","onUpdate:modelValue":i=>s.qty=i,disabled:s.id===o.status.cartQtyLoading,readonly:""},null,8,J),[[v,s.qty]]),t("button",{typr:"button",class:"btn btn-outline-primary",onClick:i=>{s.qty++,o.changeCartQty(s,s.qty)}}," + ",8,K),t("span",W,d(s.product.unit),1)])])]),t("td",null,"NT "+d(s.total)+" 元",1),t("td",null,[t("button",{type:"button",class:"btn btn-sm btn-link",onClick:i=>o.removeCartItem(s.id),disabled:s.id===o.status.cartQtyLoading},Z,8,X)])],64))),128))])):(n(),l("tr",tt,[t("td",st,[ot,p(b,{to:"/products",class:"text-decoration-none"},{default:_(()=>[et]),_:1})])]))]),t("tfoot",nt,[t("tr",null,[lt,t("td",it,d(o.final_total),1)])])])]),t("div",dt,[t("div",at,[ct,o.total!==0?(n(!0),l(c,{key:0},u(o.carts,s=>(n(),l("div",{key:s.id,class:"row align-items-center justify-content-center mb-2"},[t("div",rt,[t("img",{src:s.product.imageUrl,class:"img-fluid rounded object-fit-cover",alt:h.product.title},null,8,bt)]),t("div",ut,[t("h4",pt,d(s.product.title),1),t("div",null,[t("div",_t,[s.qty>1?(n(),l("button",{key:0,typr:"button",class:"btn btn-outline-primary",disabled:s.qty===1,onClick:i=>{s.qty--,o.changeCartQty(s,s.qty)}}," - ",8,ht)):(n(),l("button",{key:1,typr:"button",class:"btn btn-outline-danger",onClick:i=>o.removeCartItem(s.id)},vt,8,mt)),y(t("input",{min:"1",typr:"number",class:"form-control text-center w-25","onUpdate:modelValue":i=>s.qty=i,disabled:s.id===o.status.cartQtyLoading,readonly:""},null,8,gt),[[v,s.qty]]),t("button",{typr:"button",class:"btn btn-outline-primary",onClick:i=>{s.qty++,o.changeCartQty(s,s.qty)}}," + ",8,kt),t("span",ft,d(s.product.unit),1)])])])]))),128)):(n(),l("div",Ct,[wt,p(b,{to:"/products",class:"text-decoration-none"},{default:_(()=>[qt]),_:1})])),t("div",xt,[t("button",{class:"btn btn-outline-danger",type:"button",disabled:o.carts.length===0,onClick:r[0]||(r[0]=s=>o.removeAllCart(o.carts))},[It,a("一鍵清空購物車 ")],8,$t)])]),t("div",Qt,[Ut,t("table",Vt,[Bt,t("tbody",null,[o.total!==0?(n(),l("tr",Lt,[(n(!0),l(c,null,u(o.carts,s=>(n(),l("tr",{key:s.id},[t("td",Nt,d(s.product.title),1),t("td",St,d(s.qty)+"/人",1),t("td",Tt," NT "+d(s.final_total)+" 元 ",1)]))),128))])):(n(),l("tr",jt,Ft))]),zt,t("div",null,[t("div",Dt,[Ht,t("span",Pt,"NT "+d(o.final_total)+" 元",1)])])])])]),t("div",Rt,[t("button",{class:"btn btn-outline-danger mb-md-2 mb-5",type:"button",disabled:o.carts.length===0,onClick:r[1]||(r[1]=s=>o.removeAllCart(o.carts))},[Gt,a("一鍵清空購物車 ")],8,Et)]),t("div",null,[o.carts.length===0?(n(),l("button",{key:0,class:"btn btn-primary text-white",type:"submit",disabled:o.carts.length===0}," 確認結帳 ",8,Mt)):(n(),$(b,{key:1,to:"/form"},{default:_(()=>[Ot]),_:1}))])],2)]),p(k)],64)}const os=C(U,[["render",Jt],["__scopeId","data-v-785b5c7c"]]);export{os as default};

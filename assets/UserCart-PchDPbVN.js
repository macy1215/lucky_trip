import{F as C}from"./FooterBanner-vPaBt6by.js";import{_ as x,m as w,a as q,r as y,o as n,c as l,b as t,n as r,F as _,x as h,t as d,d as u,w as b,f as a,G as T,e as g,H as v,z as $,A as D}from"./index-F3KeVTHI.js";import{c as f}from"./cartStore-cfP_VUzo.js";import"./sweetalert2.all-bKdJPn_R.js";const F={data(){return{product:{}}},methods:{...w(f,["addToCart","removeAllCart","removeCartItem","changeCartQty"])},computed:{...q(f,["carts","status","final_total","total"])},components:{FooterBanner:C},mounted(){}},e=o=>($("data-v-76c2dd00"),o=o(),D(),o),L=e(()=>t("div",{class:"container"},[t("div",{class:"row justify-content-center mt-5"},[t("div",{class:"col-md-10 col-12 px-3"},[t("div",{class:"position-relative m-4"},[t("div",{class:"progress",style:{height:"1px"}},[t("div",{class:"progress-bar",role:"progressbar","aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100"})]),t("button",{type:"button",class:"position-absolute top-0 start-0 ms-3 translate-middle btn btn-sm btn-primary rounded-pill text-white",style:{width:"2rem",height:"2rem"}}," 1 "),t("button",{type:"button",class:"position-absolute top-0 start-50 translate-middle btn btn-sm btn-secondary rounded-pill",style:{width:"2rem",height:"2rem",cursor:"default"}}," 2 "),t("button",{type:"button",class:"position-absolute top-0 translate-middle btn btn-sm btn-secondary rounded-pill",style:{width:"2rem",height:"2rem",left:"99%",cursor:"default"}}," 3 ")]),t("div",{class:"row text-primary"},[t("div",{class:"col text-start"},"確認商品"),t("div",{class:"col text-secondary text-center"},"確認購買資訊"),t("div",{class:"col text-end text-secondary"},"付款確認")])])])],-1)),S={class:"container py-5 px-md-5 px-3"},I=e(()=>t("h2",{class:"text-center text-primary fs-3 fw-bold pb-2 py-4"}," 購物車列表 ",-1)),Q={key:0,class:"d-lg-block d-none"},N={class:"table"},U=e(()=>t("thead",{class:"border"},[t("tr",null,[t("th",{scope:"col",class:"text-center"},"品名"),t("th",{scope:"col",class:"text-center",style:{width:"30%"}},"數量/單位"),t("th",{scope:"col",class:"text-center",style:{width:"15%"}},"單價"),t("th",{scope:"col",class:"text-center"},"刪除")])],-1)),V={class:"border mx-auto align-middle"},j={class:"row align-items-center"},W={class:"col-md-3 col-6"},z=["src","alt"],A={class:"col-md-9 col-6 my-0 py-0 text-start ps-4"},B={class:"input-group input-group-sm"},H={class:"input-group w-75 mx-auto"},P=["disabled","onClick"],R=["onClick"],E=e(()=>t("i",{class:"bi bi-trash3"},null,-1)),G=[E],M=["onUpdate:modelValue","disabled"],O=["onClick"],J={class:"input-group-text",id:"basic-addon2"},K=["onClick","disabled"],X=e(()=>t("i",{class:"bi bi-x-lg text-danger fs-5"},null,-1)),Y=[X],Z={class:"border"},tt=e(()=>t("td",{colspan:"2",class:"text-end"},"總計",-1)),st={colspan:"2",class:"text-end fs-5"},ot={key:1},et={class:"d-lg-block d-none"},nt={class:"py-4 mx-auto text-center",colspan:"4"},lt=e(()=>t("p",{class:"h4"},"購物車目前沒有品項",-1)),it=e(()=>t("div",{class:"btnProduct"},[a(" 來去找行程 "),t("i",{class:"bi bi-chevron-double-right"})],-1)),dt={class:"d-lg-none d-block"},at={class:"bg-light px-4 py-2 text-center"},ct=e(()=>t("h4",{class:"fw-bold fs-3 my-3"},[t("i",{class:"bi bi-list-ol pe-2"}),a("購物車明細 ")],-1)),rt={class:"col-12"},ut=["src","alt"],bt={class:"col-12 my-0 py-0 text-start"},pt={class:"my-2 pb-1"},_t={class:"input-group input-group-sm w-50"},ht=["disabled","onClick"],mt=["onClick"],yt=e(()=>t("i",{class:"bi bi-trash3"},null,-1)),gt=[yt],vt=["onUpdate:modelValue","disabled"],ft=["onClick"],kt={class:"input-group-text",id:"basic-addon2"},Ct={key:1,class:"h4 py-4"},xt=e(()=>t("p",null,"購物車目前沒有品項",-1)),wt=e(()=>t("div",{class:"btnProduct"},[a(" 來去找行程 "),t("i",{class:"bi bi-chevron-double-right"})],-1)),qt=["disabled"],Tt=e(()=>t("i",{class:"bi bi-trash3-fill"},null,-1)),$t={class:"border border-1 px-2 py-2 my-3 table-responsive"},Dt=e(()=>t("h4",{class:"fw-bold"},[t("i",{class:"bi bi-vector-pen pe-2"}),a("訂單摘要")],-1)),Ft={class:"align-middle d-lg-none d-block"},Lt={class:"table table-borderless"},St=e(()=>t("thead",null,[t("tr",null,[t("th",{scope:"col"},"品名"),t("th",{scope:"col"},"數量"),t("th",{scope:"col"},"單價")])],-1)),It={class:"col-6 my-0 text-start align-top"},Qt={class:"col-2 align-top"},Nt={class:"col-4 align-top text-end"},Ut={key:1},Vt=e(()=>t("td",{colspan:"3",class:"py-3"},[t("p",null,"購物車目前沒有品項")],-1)),jt=[Vt],Wt={class:"align-text-bottom w-100 text-end border-top"},zt={colspan:"3",class:"text-end"},At={class:"text-end align-bottom"},Bt={class:"fs-5"},Ht={class:"text-end"},Pt=["disabled"],Rt=e(()=>t("i",{class:"bi bi-trash3-fill"},null,-1)),Et={class:"d-flex justify-content-center"},Gt=["disabled"],Mt=e(()=>t("button",{class:"btn btn-primary text-white",type:"submit"}," 確認結帳 ",-1));function Ot(o,p,Jt,Kt,m,Xt){const c=y("RouterLink"),k=y("footer-banner");return n(),l(_,null,[L,t("div",S,[t("div",{class:r({fullH:Object.keys(o.carts).length<2})},[I,o.total!==0?(n(),l("div",Q,[t("table",N,[U,t("tbody",V,[(n(!0),l(_,null,h(o.carts,s=>(n(),l("tr",{key:s.id},[t("th",null,[t("div",j,[t("div",W,[u(c,{to:`/product/${s.product_id}`,class:"text-decoration-none"},{default:b(()=>[t("img",{src:s.product.imageUrl,class:"img-fluid rounded object-fit-cover",alt:m.product.title},null,8,z)]),_:2},1032,["to"])]),t("h4",A,d(s.product.title),1)])]),t("td",null,[t("div",B,[t("div",H,[s.qty>1?(n(),l("button",{key:0,typr:"button",class:"btn btn-outline-primary",disabled:s.qty===1,onClick:i=>{s.qty--,o.changeCartQty(s,s.qty)}}," - ",8,P)):(n(),l("button",{key:1,typr:"button",class:"btn btn-outline-danger",onClick:i=>o.removeCartItem(s.id)},G,8,R)),g(t("input",{min:"1",typr:"number",class:"form-control text-center","onUpdate:modelValue":i=>s.qty=i,disabled:s.id===o.status.cartQtyLoading,readonly:""},null,8,M),[[v,s.qty]]),t("button",{typr:"button",class:"btn btn-outline-primary",onClick:i=>{s.qty++,o.changeCartQty(s,s.qty)}}," + ",8,O),t("span",J,d(s.product.unit),1)])])]),t("td",null,"NT "+d(s.total)+" 元",1),t("td",null,[t("button",{type:"button",class:"btn btn-sm btn-link",onClick:i=>o.removeCartItem(s.id),disabled:s.id===o.status.cartQtyLoading},Y,8,K)])]))),128))]),t("tfoot",Z,[t("tr",null,[tt,t("td",st," NT "+d(o.final_total.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}))+" 元 ",1)])])])])):(n(),l("div",ot,[t("div",et,[t("div",nt,[lt,u(c,{to:"/products",class:"text-decoration-none"},{default:b(()=>[it]),_:1})])])])),t("div",dt,[t("div",at,[ct,o.total!==0?(n(!0),l(_,{key:0},h(o.carts,s=>(n(),l("div",{key:s.id,class:"row align-items-center justify-content-center mb-md-2 mb-4"},[t("div",rt,[u(c,{to:`/product/${s.id}`,class:"text-decoration-none"},{default:b(()=>[t("img",{src:s.product.imageUrl,class:"img-fluid rounded object-fit-cover",alt:m.product.title},null,8,ut)]),_:2},1032,["to"])]),t("div",bt,[t("h4",pt,d(s.product.title),1),t("div",null,[t("div",_t,[s.qty>1?(n(),l("button",{key:0,typr:"button",class:"btn btn-outline-primary",disabled:s.qty===1,onClick:i=>{s.qty--,o.changeCartQty(s,s.qty)}}," - ",8,ht)):(n(),l("button",{key:1,typr:"button",class:"btn btn-outline-danger",onClick:i=>o.removeCartItem(s.id)},gt,8,mt)),g(t("input",{min:"1",typr:"number",class:"form-control text-center w-25","onUpdate:modelValue":i=>s.qty=i,disabled:s.id===o.status.cartQtyLoading,readonly:""},null,8,vt),[[v,s.qty]]),t("button",{typr:"button",class:"btn btn-outline-primary",onClick:i=>{s.qty++,o.changeCartQty(s,s.qty)}}," + ",8,ft),t("span",kt,d(s.product.unit),1)])])])]))),128)):(n(),l("div",Ct,[xt,u(c,{to:"/products",class:"text-decoration-none"},{default:b(()=>[wt]),_:1})])),t("div",{class:r(["text-end d-block mb-3",{"d-none":o.total!==0}])},[t("button",{class:r(["btn btn-outline-danger",{"d-none":o.total===0}]),type:"button",disabled:o.carts.length===0,onClick:p[0]||(p[0]=s=>o.removeAllCart(o.carts))},[Tt,a("一鍵清空購物車 ")],10,qt)],2)]),t("div",$t,[Dt,t("template",Ft,[t("table",Lt,[St,t("tbody",null,[o.total!==0?(n(!0),l(_,{key:0},h(o.carts,s=>(n(),l("tr",{key:s.id},[t("td",It,d(s.product.title),1),t("td",Qt,d(s.qty)+"/人",1),t("td",Nt," NT "+d(s.final_total.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}))+" 元 ",1)]))),128)):(n(),l("tr",Ut,jt)),t("tr",Wt,[t("th",zt,[t("span",At,[a("總計 NT "),t("strong",Bt,d(o.final_total.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}))+" 元",1)])])])])])])])]),t("div",Ht,[t("button",{class:r(["btn btn-outline-danger mb-md-2 mb-5",{"d-none":o.total===0}]),type:"button",disabled:o.carts.length===0,onClick:p[1]||(p[1]=s=>o.removeAllCart(o.carts))},[Rt,a("一鍵清空購物車 ")],10,Pt)]),t("div",Et,[o.carts.length===0?(n(),l("button",{key:0,class:r(["btn btn-primary text-white",{"d-none":o.total===0}]),type:"submit",disabled:o.carts.length===0}," 確認結帳 ",10,Gt)):(n(),T(c,{key:1,to:"/form"},{default:b(()=>[Mt]),_:1}))])],2)]),u(k)],64)}const os=x(F,[["render",Ot],["__scopeId","data-v-76c2dd00"]]);export{os as default};

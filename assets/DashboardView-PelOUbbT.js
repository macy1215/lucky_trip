import{C as d}from"./collapse-7vwQwlEF.js";import{_ as v,r as l,o as p,c as _,b as e,d as r,w as n,e as g,v as m,B as k,H as b,C as f,F as N,f as u}from"./index-gqwUnpxu.js";import"./selector-engine-PgaGpgzS.js";const x={data(){return{checkSuccess:!1,headerNavDrop:null,isNavbarOpen:!1}},methods:{checkLogin(){const a=document.cookie.replace(/(?:(?:^|.*;\s*)luckyTrip\s*=\s*([^;]*).*$)|^.*$/,"$1");a?(this.$http.defaults.headers.common.Authorization=`${a}`,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/user/check",{api_token:this.token}).then(()=>{this.checkSuccess=!0}).catch(()=>{this.checkSuccess=!1,this.$router.push("/login")})):(alert("尚未登入"),this.$router.push("/login"))},signout(){document.cookie="luckyTrip=;expires=;",alert("登出帳號，token 已清除"),this.$router.push("/login")},toggleNavbar(){this.isNavbarOpen=!this.isNavbarOpen,this.headerNavDrop.toggle()}},mounted(){this.checkLogin(),this.headerNavDrop=new d(this.$refs.headerNavDrop,{toggle:!1})}},y={class:"navbar navbar-expand-md mb-3 container"},C={class:"container-fluid"},$=e("span",{class:"nav-link logostyle"},[e("a",null,"lucky-trip")],-1),w=e("i",{class:"bi bi-list",style:{"font-size":"2.5rem"}},null,-1),S=[w],D={class:"collapse navbar-collapse navbar-nav ms-auto py-10 py-lg-0",id:"navbarSupportedContent",ref:"headerNavDrop"},V={class:"navbar-nav"},B={class:"nav-item"},L={class:"nav-item"},O={class:"nav-item"};function R(a,t,T,z,i,s){const o=l("RouterLink"),h=l("RouterView");return p(),_(N,null,[e("nav",y,[e("div",C,[r(o,{to:"/"},{default:n(()=>[$]),_:1}),e("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",onClick:t[0]||(t[0]=(...c)=>s.toggleNavbar&&s.toggleNavbar(...c))},S),g(e("div",D,[e("ul",V,[e("li",B,[r(o,{class:"nav-link text-primary active","aria-current":"page",to:"/admin/products"},{default:n(()=>[u("方案列表")]),_:1})]),e("li",L,[r(o,{class:"nav-link text-primary","aria-current":"page",to:"/admin/orders"},{default:n(()=>[u("訂單列表")]),_:1})]),e("li",O,[e("a",{href:"#",class:"nav-link text-primary","aria-current":"page",onClick:t[1]||(t[1]=k(c=>s.signout(),["prevent"]))},"登出")])])],512),[[m,i.isNavbarOpen]])])]),i.checkSuccess?(p(),b(h,{key:0})):f("",!0)],64)}const H=v(x,[["render",R]]);export{H as default};

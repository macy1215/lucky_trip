import{_ as d,r as i,o as r,c as p,a as e,b as s,w as a,g as _,h as k,i as m,F as v,d as c}from"./index-3MlbZExV.js";const f={data(){return{checkSuccess:!1}},methods:{checkLogin(){const o=document.cookie.replace(/(?:(?:^|.*;\s*)luckyTrip\s*=\s*([^;]*).*$)|^.*$/,"$1");o?(this.$http.defaults.headers.common.Authorization=`${o}`,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/user/check",{api_token:this.token}).then(()=>{this.checkSuccess=!0}).catch(()=>{this.checkSuccess=!1,this.$router.push("/login")})):(alert("尚未登入"),this.$router.push("/login"))},signout(){document.cookie="luckyTrip=;expires=;",alert("登出帳號，token 已清除"),this.$router.push("/login")}},mounted(){this.checkLogin()}},g={class:"navbar navbar-expand-lg mb-3 container"},$={class:"container-fluid"},x=e("span",{class:"nav-link logostyle"},[e("a",null,"lucky-trip")],-1),y={class:"collapse navbar-collapse justify-content-end",id:"nav"},b={class:"navbar-nav"},V={class:"nav-item"},w={class:"nav-item"},B={class:"nav-item"},C={class:"nav-item"};function L(o,n,N,R,l,u){const t=i("RouterLink"),h=i("RouterView");return r(),p(v,null,[e("nav",g,[e("div",$,[s(t,{to:"/"},{default:a(()=>[x]),_:1}),e("div",y,[e("ul",b,[e("li",V,[s(t,{class:"nav-link text-primary active","aria-current":"page",to:"/admin/products"},{default:a(()=>[c("方案列表")]),_:1})]),e("li",w,[s(t,{class:"nav-link text-primary","aria-current":"page",to:"/admin/orders"},{default:a(()=>[c("訂單列表")]),_:1})]),e("li",B,[s(t,{class:"nav-link text-primary","aria-current":"page",to:"/admin/blogs"},{default:a(()=>[c("文章列表")]),_:1})]),e("li",C,[e("a",{href:"#",class:"nav-link text-primary","aria-current":"page",onClick:n[0]||(n[0]=_(S=>u.signout(),["prevent"]))},"登出")])])])])]),l.checkSuccess?(r(),k(h,{key:0})):m("",!0)],64)}const F=d(f,[["render",L]]);export{F as default};

import{F as b}from"./FooterBanner-WMUqRosb.js";import{_ as h,m as y,a as C,r as l,o as e,c as n,b as t,F as r,u as f,t as d,d as c,w as g,B as v,f as k,e as q,C as $}from"./index-XteG4GpO.js";import{c as u}from"./cartStore-UUGLHT-_.js";import"./sweetalert2.all-MNZWu7_Y.js";const w={data(){return{product:{}}},methods:{...y(u,["addToCart","removeAllCart","removeCartItem","changeCartQty"])},computed:{...C(u,["carts","status","final_total","total"])},components:{FooterBanner:b},mounted(){}},L={class:"container px-5"},V={class:"table align-middle"},B=t("thead",{class:"border"},[t("tr",null,[t("th"),t("th",null,"品名"),t("th",{style:{width:"180px"}},"數量/單位"),t("th",{class:"text-center"},"單價")])],-1),Q={class:"border"},F=["onClick","disabled"],N={key:0,class:"fas fa-spinner fa-pulse"},U={class:"w-auto align-middle"},A={class:"row align-items-center"},I={class:"col-2"},S=["src","alt"],T={class:"my-0 py-0 col-md-6"},x={class:"input-group input-group-sm"},D={class:"input-group mb-3"},R=["disabled","onClick"],j=["onClick"],E=t("i",{class:"bi bi-trash3"},null,-1),M=[E],z=["onUpdate:modelValue","disabled"],G=["onClick"],H={class:"input-group-text",id:"basic-addon2"},J={class:"text-end"},K={key:1},O=t("td",{class:"h4 py-4",colspan:"4"}," 購物車無商品 ",-1),P=[O],W={class:"border"},X=t("td",{colspan:"3",class:"text-end"},"總計",-1),Y={class:"text-end fs-5"},Z={class:"text-end"},tt=["disabled"],st=t("button",{class:"btn btn-primary",type:"submit"}," 確認結帳 ",-1);function ot(o,i,et,nt,_,at){const p=l("RouterLink"),m=l("footer-banner");return e(),n(r,null,[t("div",L,[t("table",V,[B,t("tbody",Q,[o.total!==0?(e(!0),n(r,{key:0},f(o.carts,s=>(e(),n("tr",{key:s.id},[t("td",null,[t("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:a=>o.removeCartItem(s.id),disabled:s.id===o.status.cartQtyLoading},[s.id===o.status.showCartLoading?(e(),n("i",N)):v("",!0),k(" x ")],8,F)]),t("td",U,[t("div",A,[t("div",I,[t("img",{src:s.product.imageUrl,class:"img-fluid rounded object-fit-cover",alt:_.product.title},null,8,S)]),t("h4",T,d(s.product.title),1)])]),t("td",null,[t("div",x,[t("div",D,[s.qty>1?(e(),n("button",{key:0,typr:"button",class:"btn btn-outline-primary",disabled:s.qty===1,onClick:a=>{s.qty--,o.changeCartQty(s,s.qty)}}," - ",8,R)):(e(),n("button",{key:1,typr:"button",class:"btn btn-outline-danger",onClick:a=>o.removeCartItem(s.id)},M,8,j)),q(t("input",{min:"1",typr:"number",class:"form-control","onUpdate:modelValue":a=>s.qty=a,disabled:s.id===o.status.cartQtyLoading,readonly:""},null,8,z),[[$,s.qty]]),t("button",{typr:"button",class:"btn btn-outline-primary",onClick:a=>{s.qty++,o.changeCartQty(s,s.qty)}}," + ",8,G),t("span",H,d(s.product.unit),1)])])]),t("td",J,d(s.total),1)]))),128)):(e(),n("tr",K,P))]),t("tfoot",W,[t("tr",null,[X,t("td",Y,d(o.final_total),1)])])]),t("div",Z,[t("button",{class:"btn btn-outline-danger",type:"button",disabled:o.carts.total===0,onClick:i[0]||(i[0]=s=>o.removeAllCart(o.carts))},"清空購物車",8,tt)]),c(p,{to:"/form"},{default:g(()=>[st]),_:1})]),c(m)],64)}const ct=h(w,[["render",ot]]);export{ct as default};

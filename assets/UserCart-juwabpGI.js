import{F as h}from"./FooterBanner-g4IOzRIk.js";import{_ as y,m as f,a as C,r as c,o as e,c as n,b as t,C as g,F as u,u as v,t as i,d as p,w as k,B as q,f as w,e as I,D as $,y as L,z as S}from"./index-D--wlP2t.js";import{c as _}from"./cartStore-rP9IIQ6-.js";import"./sweetalert2.all-JtF-AOmt.js";const V={data(){return{product:{}}},methods:{...f(_,["addToCart","removeAllCart","removeCartItem","changeCartQty"])},computed:{...C(_,["carts","status","final_total","total"])},components:{FooterBanner:h},mounted(){}},d=o=>(L("data-v-bf99fdf4"),o=o(),S(),o),B={class:"container px-md-5 px-2"},Q=d(()=>t("thead",{class:"border"},[t("tr",null,[t("th"),t("th",null,"品名"),t("th",{style:{width:"180px"}},"數量/單位"),t("th",{class:"text-center"},"單價")])],-1)),x={class:"border"},F=["onClick","disabled"],N={key:0,class:"fas fa-spinner fa-pulse"},U={class:"w-auto align-middle"},A={class:"row align-items-center"},D={class:"col-md-2 col-6"},T=["src","alt"],j={class:"col-md-6 col-6 my-0 py-0 text-start ps-4"},z={class:"input-group input-group-sm"},R={class:"input-group mb-3"},E=["disabled","onClick"],H=["onClick"],M=d(()=>t("i",{class:"bi bi-trash3"},null,-1)),O=[M],G=["onUpdate:modelValue","disabled"],J=["onClick"],K={class:"input-group-text",id:"basic-addon2"},P={class:"text-end"},W={key:1},X=d(()=>t("td",{class:"h4 py-4",colspan:"4"}," 購物車無商品 ",-1)),Y=[X],Z={class:"border"},tt=d(()=>t("td",{colspan:"3",class:"text-end"},"總計",-1)),st={class:"text-end fs-5"},ot={class:"text-end"},et=["disabled"],nt=d(()=>t("button",{class:"btn btn-primary",type:"submit"}," 確認結帳 ",-1));function at(o,l,dt,it,r,lt){const m=c("RouterLink"),b=c("footer-banner");return e(),n(u,null,[t("div",B,[t("table",{class:g(["table align-middle",{fullH:Object.keys(r.product).length<3}])},[Q,t("tbody",x,[o.total!==0?(e(!0),n(u,{key:0},v(o.carts,s=>(e(),n("tr",{key:s.id},[t("td",null,[t("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:a=>o.removeCartItem(s.id),disabled:s.id===o.status.cartQtyLoading},[s.id===o.status.showCartLoading?(e(),n("i",N)):q("",!0),w(" x ")],8,F)]),t("td",U,[t("div",A,[t("div",D,[t("img",{src:s.product.imageUrl,class:"img-fluid rounded object-fit-cover",alt:r.product.title},null,8,T)]),t("h4",j,i(s.product.title),1)])]),t("td",null,[t("div",z,[t("div",R,[s.qty>1?(e(),n("button",{key:0,typr:"button",class:"btn btn-outline-primary",disabled:s.qty===1,onClick:a=>{s.qty--,o.changeCartQty(s,s.qty)}}," - ",8,E)):(e(),n("button",{key:1,typr:"button",class:"btn btn-outline-danger",onClick:a=>o.removeCartItem(s.id)},O,8,H)),I(t("input",{min:"1",typr:"number",class:"form-control","onUpdate:modelValue":a=>s.qty=a,disabled:s.id===o.status.cartQtyLoading,readonly:""},null,8,G),[[$,s.qty]]),t("button",{typr:"button",class:"btn btn-outline-primary",onClick:a=>{s.qty++,o.changeCartQty(s,s.qty)}}," + ",8,J),t("span",K,i(s.product.unit),1)])])]),t("td",P,i(s.total),1)]))),128)):(e(),n("tr",W,Y))]),t("tfoot",Z,[t("tr",null,[tt,t("td",st,i(o.final_total),1)])])],2),t("div",ot,[t("button",{class:"btn btn-outline-danger",type:"button",disabled:o.carts.total===0,onClick:l[0]||(l[0]=s=>o.removeAllCart(o.carts))},"清空購物車",8,et)]),p(m,{to:"/form"},{default:k(()=>[nt]),_:1})]),p(b)],64)}const _t=y(V,[["render",at],["__scopeId","data-v-bf99fdf4"]]);export{_t as default};

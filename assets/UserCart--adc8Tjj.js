import{F as y}from"./FooterBanner-BT6t_D_X.js";import{_ as v,m as g,a as f,r as u,o as n,c as l,b as t,B as k,F as p,u as C,d as b,w as m,G as w,t as i,e as x,H as q,y as I,z as $,f as B}from"./index-6mC2spq1.js";import{c as _}from"./cartStore-0cViIA89.js";import"./sweetalert2.all-cXh1ww-c.js";const S={data(){return{product:{}}},methods:{...g(_,["addToCart","removeAllCart","removeCartItem","changeCartQty"])},computed:{...f(_,["carts","status","final_total","total"])},components:{FooterBanner:y},mounted(){}},o=e=>(I("data-v-e3973984"),e=e(),$(),e),L=o(()=>t("div",{class:"container"},[t("div",{class:"row justify-content-center mt-5"},[t("div",{class:"col-10"},[t("div",{class:"position-relative m-4 px-5"},[t("div",{class:"progress",style:{height:"1px"}},[t("div",{class:"progress-bar",role:"progressbar","aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100"})]),t("button",{type:"button",class:"position-absolute top-0 start-0 ms-3 translate-middle btn btn-sm btn-primary rounded-pill text-white",style:{width:"2rem",height:"2rem"}},"1"),t("button",{type:"button",class:"position-absolute top-0 start-50 translate-middle btn btn-sm btn-secondary rounded-pill",style:{width:"2rem",height:"2rem",cursor:"default"}},"2"),t("button",{type:"button",class:"position-absolute top-0 translate-middle btn btn-sm btn-secondary rounded-pill",style:{width:"2rem",height:"2rem",left:"99%",cursor:"default"}},"3")]),t("div",{class:"row text-primary"},[t("div",{class:"col text-start"},"確認商品"),t("div",{class:"col"},"確認購買資訊"),t("div",{class:"col text-end"},"付款確認")])])])],-1)),Q={class:"container py-md-5 py-2 px-md-5 px-2"},V=o(()=>t("h2",{class:"text-center text-primary fs-3 fw-bold pb-2"}," 購物車列表",-1)),F=o(()=>t("thead",{class:"border"},[t("tr",null,[t("th"),t("th",null,"品名"),t("th",{style:{width:"180px"}},"數量/單位"),t("th",{class:"text-center"},"單價")])],-1)),U={class:"border"},j=["onClick","disabled"],A=o(()=>t("i",{class:"bi bi-x-lg"},null,-1)),N=[A],T={class:"w-auto align-middle"},z={class:"row align-items-center"},D={class:"col-md-2 col-6"},H=["src","alt"],R={class:"col-md-6 col-6 my-0 py-0 text-start ps-4"},E={class:"input-group input-group-sm"},G={class:"input-group mb-3"},M=["disabled","onClick"],O=["onClick"],P=o(()=>t("i",{class:"bi bi-trash3"},null,-1)),J=[P],K=["onUpdate:modelValue","disabled"],W=["onClick"],X={class:"input-group-text",id:"basic-addon2"},Y={class:"text-end"},Z={class:"border"},tt=o(()=>t("td",{colspan:"3",class:"text-end"},"總計",-1)),st={class:"text-end fs-5"},et={key:1,class:"h4 py-4",colspan:"4"},ot=o(()=>t("p",null,"購物車目前沒有品項",-1)),nt=o(()=>t("div",{class:"btnProduct"},[B(" 來去找行程 "),t("i",{class:"bi bi-chevron-double-right"})],-1)),lt={class:"text-end"},at=["disabled"],it=["disabled"],dt=o(()=>t("button",{class:"btn btn-primary text-white",type:"submit"}," 確認結帳 ",-1));function rt(e,d,ct,ut,r,pt){const c=u("RouterLink"),h=u("footer-banner");return n(),l(p,null,[L,t("div",Q,[t("div",{class:k({fullH:Object.keys(r.product).length<3})},[V,e.total!==0?(n(!0),l(p,{key:0},C(e.carts,s=>(n(),l("table",{key:s.id,class:"table align-middle"},[F,t("tbody",U,[t("tr",null,[t("td",null,[t("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:a=>e.removeCartItem(s.id),disabled:s.id===e.status.cartQtyLoading},N,8,j)]),t("td",T,[t("div",z,[t("div",D,[t("img",{src:s.product.imageUrl,class:"img-fluid rounded object-fit-cover",alt:r.product.title},null,8,H)]),t("h4",R,i(s.product.title),1)])]),t("td",null,[t("div",E,[t("div",G,[s.qty>1?(n(),l("button",{key:0,typr:"button",class:"btn btn-outline-primary",disabled:s.qty===1,onClick:a=>{s.qty--,e.changeCartQty(s,s.qty)}}," - ",8,M)):(n(),l("button",{key:1,typr:"button",class:"btn btn-outline-danger",onClick:a=>e.removeCartItem(s.id)},J,8,O)),x(t("input",{min:"1",typr:"number",class:"form-control text-center","onUpdate:modelValue":a=>s.qty=a,disabled:s.id===e.status.cartQtyLoading,readonly:""},null,8,K),[[q,s.qty]]),t("button",{typr:"button",class:"btn btn-outline-primary",onClick:a=>{s.qty++,e.changeCartQty(s,s.qty)}}," + ",8,W),t("span",X,i(s.product.unit),1)])])]),t("td",Y,i(s.total),1)])]),t("tfoot",Z,[t("tr",null,[tt,t("td",st,i(e.final_total),1)])])]))),128)):(n(),l("div",et,[ot,b(c,{to:"/products",class:"text-decoration-none"},{default:m(()=>[nt]),_:1})])),t("div",lt,[t("button",{class:"btn btn-outline-danger",type:"button",disabled:e.carts.length===0,onClick:d[0]||(d[0]=s=>e.removeAllCart(e.carts))},"清空購物車",8,at)]),t("div",null,[e.carts.length===0?(n(),l("button",{key:0,class:"btn btn-primary text-white",type:"submit",disabled:e.carts.length===0}," 確認結帳 ",8,it)):(n(),w(c,{key:1,to:"/form"},{default:m(()=>[dt]),_:1}))])],2)]),b(h)],64)}const yt=v(S,[["render",rt],["__scopeId","data-v-e3973984"]]);export{yt as default};

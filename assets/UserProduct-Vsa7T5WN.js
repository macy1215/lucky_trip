import{C as j,D as yt,_ as It,m as Ct,r as G,o as m,c as f,b as t,d as w,w as k,t as l,F as U,x as z,f as E,E as D,B as At,y as xt,n as Nt,z as St,A as wt}from"./index-eoDtHLlS.js";import{r as H,a as Dt,b as J,c as Lt,d as Ot,e as Rt}from"./selector-engine-HGuTfhrk.js";import{F as kt}from"./FooterBanner-n7jE8nvK.js";import{c as Vt}from"./cartStore-tQ502JwA.js";import{S as Pt}from"./sweetalert2.all-qQjV8K3x.js";var Z={exports:{}},B={exports:{}};/*!
  * Bootstrap swipe.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Q;function Mt(){return Q||(Q=1,function(d,A){(function(a,c){d.exports=c(H(),Dt(),J())})(j,function(a,c,o){const u="swipe",n=".bs.swipe",x=`touchstart${n}`,b=`touchmove${n}`,y=`touchend${n}`,h=`pointerdown${n}`,L=`pointerup${n}`,V="touch",P="pen",M="pointer-event",I=40,g={endCallback:null,leftCallback:null,rightCallback:null},v={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class T extends c{constructor(s,N){super(),this._element=s,!(!s||!T.isSupported())&&(this._config=this._getConfig(N),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return g}static get DefaultType(){return v}static get NAME(){return u}dispose(){a.off(this._element,n)}_start(s){if(!this._supportPointerEvents){this._deltaX=s.touches[0].clientX;return}this._eventIsPointerPenTouch(s)&&(this._deltaX=s.clientX)}_end(s){this._eventIsPointerPenTouch(s)&&(this._deltaX=s.clientX-this._deltaX),this._handleSwipe(),o.execute(this._config.endCallback)}_move(s){this._deltaX=s.touches&&s.touches.length>1?0:s.touches[0].clientX-this._deltaX}_handleSwipe(){const s=Math.abs(this._deltaX);if(s<=I)return;const N=s/this._deltaX;this._deltaX=0,N&&o.execute(N>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(a.on(this._element,h,s=>this._start(s)),a.on(this._element,L,s=>this._end(s)),this._element.classList.add(M)):(a.on(this._element,x,s=>this._start(s)),a.on(this._element,b,s=>this._move(s)),a.on(this._element,y,s=>this._end(s)))}_eventIsPointerPenTouch(s){return this._supportPointerEvents&&(s.pointerType===P||s.pointerType===V)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}return T})}(B)),B.exports}/*!
  * Bootstrap carousel.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(d,A){(function(a,c){d.exports=c(Lt(),H(),Ot(),Rt(),J(),Mt())})(j,function(a,c,o,u,n,x){const b="carousel",h=".bs.carousel",L=".data-api",V="ArrowLeft",P="ArrowRight",M=500,I="next",g="prev",v="left",T="right",tt=`slide${h}`,s=`slid${h}`,N=`keydown${h}`,et=`mouseenter${h}`,st=`mouseleave${h}`,it=`dragstart${h}`,ot=`load${h}${L}`,nt=`click${h}${L}`,W="carousel",O="active",rt="slide",ct="carousel-item-end",at="carousel-item-start",lt="carousel-item-next",dt="carousel-item-prev",Y=".active",q=".carousel-item",ut=Y+q,_t=".carousel-item img",ht=".carousel-indicators",pt="[data-bs-slide], [data-bs-slide-to]",mt='[data-bs-ride="carousel"]',ft={[V]:T,[P]:v},Et={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},bt={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class S extends a{constructor(e,i){super(e,i),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=u.findOne(ht,this._element),this._addEventListeners(),this._config.ride===W&&this.cycle()}static get Default(){return Et}static get DefaultType(){return bt}static get NAME(){return b}next(){this._slide(I)}nextWhenVisible(){!document.hidden&&n.isVisible(this._element)&&this.next()}prev(){this._slide(g)}pause(){this._isSliding&&n.triggerTransitionEnd(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){c.one(this._element,s,()=>this.cycle());return}this.cycle()}}to(e){const i=this._getItems();if(e>i.length-1||e<0)return;if(this._isSliding){c.one(this._element,s,()=>this.to(e));return}const r=this._getItemIndex(this._getActive());if(r===e)return;const C=e>r?I:g;this._slide(C,i[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&c.on(this._element,N,e=>this._keydown(e)),this._config.pause==="hover"&&(c.on(this._element,et,()=>this.pause()),c.on(this._element,st,()=>this._maybeEnableCycle())),this._config.touch&&x.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of u.find(_t,this._element))c.on(r,it,C=>C.preventDefault());const i={leftCallback:()=>this._slide(this._directionToOrder(v)),rightCallback:()=>this._slide(this._directionToOrder(T)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),M+this._config.interval))}};this._swipeHelper=new x(this._element,i)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const i=ft[e.key];i&&(e.preventDefault(),this._slide(this._directionToOrder(i)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const i=u.findOne(Y,this._indicatorsElement);i.classList.remove(O),i.removeAttribute("aria-current");const r=u.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(O),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const i=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=i||this._config.defaultInterval}_slide(e,i=null){if(this._isSliding)return;const r=this._getActive(),C=e===I,p=i||n.getNextActiveElement(this._getItems(),r,C,this._config.wrap);if(p===r)return;const K=this._getItemIndex(p),$=Tt=>c.trigger(this._element,Tt,{relatedTarget:p,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:K});if($(tt).defaultPrevented||!r||!p)return;const gt=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(K),this._activeElement=p;const R=C?at:ct,F=C?lt:dt;p.classList.add(F),n.reflow(p),r.classList.add(R),p.classList.add(R);const vt=()=>{p.classList.remove(R,F),p.classList.add(O),r.classList.remove(O,F,R),this._isSliding=!1,$(s)};this._queueCallback(vt,r,this._isAnimated()),gt&&this.cycle()}_isAnimated(){return this._element.classList.contains(rt)}_getActive(){return u.findOne(ut,this._element)}_getItems(){return u.find(q,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return n.isRTL()?e===v?g:I:e===v?I:g}_orderToDirection(e){return n.isRTL()?e===g?v:T:e===g?T:v}static jQueryInterface(e){return this.each(function(){const i=S.getOrCreateInstance(this,e);if(typeof e=="number"){i.to(e);return}if(typeof e=="string"){if(i[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);i[e]()}})}}return c.on(document,nt,pt,function(X){const e=u.getElementFromSelector(this);if(!e||!e.classList.contains(W))return;X.preventDefault();const i=S.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){i.to(r),i._maybeEnableCycle();return}if(o.getDataAttribute(this,"slide")==="next"){i.next(),i._maybeEnableCycle();return}i.prev(),i._maybeEnableCycle()}),c.on(window,ot,()=>{const X=u.find(mt);for(const e of X)S.getOrCreateInstance(e)}),n.defineJQueryPlugin(S),S})})(Z);var Xt=Z.exports;const Ft=yt(Xt);var Ut={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_NAME:"lucky_trip",BASE_URL:"/lucky_trip/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:Bt,VITE_NAME:Wt}=Ut,Yt={data(){return{product:{},carts:[],detail:{},myCarousel:""}},methods:{getProduct(){const{id:d}=this.$route.params,A=`${Bt}/api/${Wt}/product/${d}`;this.$http.get(A).then(a=>{this.product=a.data.product,this.detail={...this.product,allImage:[this.product.imageUrl,...this.product.imagesUrl]}}).catch(a=>{Pt.fire({title:a.data.message,icon:"error",timer:1500,showConfirmButton:!1})})},...Ct(Vt,["addToCart"])},watch:{"$route.query":{handler(){this.getProduct()},deep:!0}},components:{FooterBanner:kt},mounted(){this.getProduct(),this.myCarousel=new Ft(this.$refs.myCarousel)}},_=d=>(St("data-v-e16776cd"),d=d(),wt(),d),qt=_(()=>t("div",{class:"banner"},null,-1)),Kt={class:"container px-4"},$t={class:"row mt-4 pt-4 align-items-center justify-content-center"},Gt={class:"d-lg-none d-block"},zt={"aria-label":"breadcrumb"},Qt={class:"breadcrumb"},jt={class:"breadcrumb-item"},Ht={class:"breadcrumb-item"},Jt={class:"breadcrumb-item active","aria-current":"page"},Zt={class:"row justify-content-center p-0"},te={class:"col-lg-6 col-12 align-self-start ps-0 pe-3"},ee={id:"carouselExampleFade",class:"carousel slide carousel-fade","data-bs-ride":"carousel",ref:"myCarousel"},se={class:"carousel-indicators"},ie=["data-bs-slide-to","aria-label"],oe={class:"carousel-inner"},ne={class:"overflow-hidden w-100 img-fluid"},re=["src"],ce=xt('<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="prev" data-v-e16776cd><span class="carousel-control-prev-icon" aria-hidden="true" data-v-e16776cd></span><span class="visually-hidden" data-v-e16776cd>Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="next" data-v-e16776cd><span class="carousel-control-next-icon" aria-hidden="true" data-v-e16776cd></span><span class="visually-hidden" data-v-e16776cd>Next</span></button>',2),ae={class:"col-lg-5 col-12 my-md-0 my-md-0 my-4 row p-0 align-self-stretch d-flex flex-column justify-content-between"},le={"aria-label":"breadcrumb",class:"d-lg-block d-none"},de={class:"breadcrumb"},ue={class:"breadcrumb-item"},_e={class:"breadcrumb-item"},he={class:"breadcrumb-item active","aria-current":"page"},pe={class:"h2 text-start fw-bold mt-4 text-primary"},me={class:"my-lg-5 my-3"},fe={class:"text-start list-unstyled lh-lg"},Ee=_(()=>t("strong",{class:"text-primary"},"費用包含 | ",-1)),be=_(()=>t("strong",{class:"text-primary"},"可成團人數 | ",-1)),ge=_(()=>t("strong",{class:"text-primary"},"最高報名人數 | ",-1)),ve=_(()=>t("strong",{class:"text-primary"},"交通方式 | ",-1)),Te={key:0},ye={key:1},Ie={key:2},Ce={class:"row justify-content-start align-self-end mt-auto px-0"},Ae={class:"col-md-6 col-12 d-lg-block d-inline-block px-0"},xe={key:0,class:"align-middle text-black-50 text-start"},Ne={class:"text-decoration-line-through text-black-50"},Se={key:1,class:"text-start"},we=_(()=>t("span",{class:"fw-bold me-2"},"好遊價",-1)),De={class:"fs-3 text-primary fw-bold"},Le={class:"col-6 text-start align-self-end mt-lg-0 mt-3 mb-lg-0 mb-5"},Oe=_(()=>t("i",{class:"bi bi-cart-plus text-white"},null,-1)),Re={class:"col-lg-11 col-12 my-4 text-start"},ke=_(()=>t("h4",{class:"fs-4 fw-bold pb-2"},"旅遊行程",-1)),Ve={class:"col-lg-11 col-12 my-4 text-start"},Pe=_(()=>t("h4",{class:"fs-4 fw-bold pb-2"},"注意事項",-1)),Me=_(()=>t("ol",{class:"text-primary mt-3 lh-base fw-bold"},[t("li",null,"請於下訂付款後1個月內與導遊確認想出遊日期與時間"),t("li",null,"*如想客製化行程皆由當日導遊與路況來進行而外調整。")],-1)),Xe=_(()=>t("div",{class:"col-lg-11 col-12 text-start mb-5"},[t("h4",{class:"fs-4 fw-bold pb-2"},"退費政策"),t("div",{class:"fw-bold text-primary mb-2"},"*團體與個人皆適用"),t("ul",{class:"lh-lg"},[t("li",null,"旅遊開始前第31日取消：平台需賠償百分之 10%。"),t("li",null,"旅遊開始前第21-30日取消：平台需賠償百分之 20%。"),t("li",null,"旅遊開始前第11-20日取消：平台需賠償百分之 30%。"),t("li",null,"旅遊開始前第4-10日取消：平台需賠償百分之 50%。"),t("li",null,"旅遊開始前第1-3日取消：平台需賠償百分之 70%。"),t("li",null," 如於出發當天取消訂單、團隊集合逾時、因個人因素私自脫隊、及未通知不參加者恕不退費 ")])],-1));function Fe(d,A,a,c,o,u){const n=G("RouterLink"),x=G("footer-banner");return m(),f(U,null,[qt,t("div",Kt,[t("div",$t,[t("div",Gt,[t("nav",zt,[t("ol",Qt,[t("li",jt,[w(n,{class:"text-decoration-none",to:"/"},{default:k(()=>[E("好嗨遊")]),_:1})]),t("li",Ht,[w(n,{class:"text-decoration-none",to:"/products"},{default:k(()=>[E(l(o.product.category),1)]),_:1})]),t("li",Jt,l(o.product.title),1)])])]),t("div",Zt,[t("div",te,[t("div",ee,[t("div",se,[(m(!0),f(U,null,z(o.detail.allImage,(b,y)=>(m(),f("button",{key:y,type:"button","data-bs-target":"#carouselExampleFade","data-bs-slide-to":y,class:Nt({active:y===0}),"aria-current":"true","aria-label":"Slide "+(y+1)},null,10,ie))),128))]),t("div",oe,[(m(!0),f(U,null,z(o.detail.allImage,b=>(m(),f("div",{class:"carousel-item active",key:b},[t("div",ne,[t("img",{src:b,class:"object-fit-cover w-100"},null,8,re)])]))),128))]),ce],512)]),t("div",ae,[t("div",null,[t("nav",le,[t("ol",de,[t("li",ue,[w(n,{class:"text-decoration-none",to:"/"},{default:k(()=>[E("好嗨遊")]),_:1})]),t("li",_e,[w(n,{class:"text-decoration-none",to:"/products"},{default:k(()=>[E(l(o.product.category),1)]),_:1})]),t("li",he,l(o.product.title),1)])]),t("div",pe,l(o.product.title),1)]),t("div",me,[t("ul",fe,[t("li",null,[Ee,E(l(o.product.feeincluded),1)]),t("li",null,[be,E(l(o.product.minpeople)+" 人 ",1)]),t("li",null,[ge,E(l(o.product.regist)+" 人 ",1)]),t("li",null,[ve,o.product.is_intercitybus===1?(m(),f("span",Te,"包車(租賃、遊覽車)")):D("",!0),o.product.is_walk===1?(m(),f("span",ye,"雙腳萬能")):D("",!0),o.product.is_publictrans===1?(m(),f("span",Ie,"大眾交通(火車、公車、捷運等)")):D("",!0)])])]),t("div",Ce,[t("div",Ae,[typeof o.product.origin_price=="number"?(m(),f("div",xe,[E(" 原價 "),t("span",Ne,l(o.product.origin_price.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}))+" 元 ",1)])):D("",!0),typeof o.product.origin_price=="number"?(m(),f("div",Se,[we,t("span",De,l(o.product.price.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}))+" 元 ",1)])):D("",!0)]),t("div",Le,[t("button",{type:"button",onClick:A[0]||(A[0]=At(b=>d.addToCart(o.product.id),["prevent"])),class:"btn btn-primary text-white round-0 px-4 addBtn"},[E(" 加入購物車 "),Oe])])])])]),t("div",Re,[ke,t("div",null,l(o.product.schedule),1)]),t("div",Ve,[Pe,t("div",null,"餐點："+l(o.product.content),1),Me]),Xe])]),w(x)],64)}const $e=It(Yt,[["render",Fe],["__scopeId","data-v-e16776cd"]]);export{$e as default};

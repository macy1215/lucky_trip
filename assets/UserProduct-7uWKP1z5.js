import{C as j,D as yt,_ as It,m as Ct,r as W,o as p,c as m,b as t,F as X,u as G,d as U,w as z,t as f,f as C,E as w,A as At,x as xt,B as Nt,y as St,z as wt}from"./index-6mC2spq1.js";import{r as H,a as Lt,b as J,c as Ot,d as Rt,e as Dt}from"./selector-engine-zl3Kp5UZ.js";import{F as kt}from"./FooterBanner-BT6t_D_X.js";import{c as Vt}from"./cartStore-0cViIA89.js";import{S as Pt}from"./sweetalert2.all-cXh1ww-c.js";var Z={exports:{}},B={exports:{}};/*!
  * Bootstrap swipe.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Q;function Mt(){return Q||(Q=1,function(c,A){(function(l,a){c.exports=a(H(),Lt(),J())})(j,function(l,a,o){const u="swipe",r=".bs.swipe",x=`touchstart${r}`,E=`touchmove${r}`,g=`touchend${r}`,_=`pointerdown${r}`,L=`pointerup${r}`,D="touch",k="pen",V="pointer-event",y=40,b={endCallback:null,leftCallback:null,rightCallback:null},v={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class T extends a{constructor(s,N){super(),this._element=s,!(!s||!T.isSupported())&&(this._config=this._getConfig(N),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return b}static get DefaultType(){return v}static get NAME(){return u}dispose(){l.off(this._element,r)}_start(s){if(!this._supportPointerEvents){this._deltaX=s.touches[0].clientX;return}this._eventIsPointerPenTouch(s)&&(this._deltaX=s.clientX)}_end(s){this._eventIsPointerPenTouch(s)&&(this._deltaX=s.clientX-this._deltaX),this._handleSwipe(),o.execute(this._config.endCallback)}_move(s){this._deltaX=s.touches&&s.touches.length>1?0:s.touches[0].clientX-this._deltaX}_handleSwipe(){const s=Math.abs(this._deltaX);if(s<=y)return;const N=s/this._deltaX;this._deltaX=0,N&&o.execute(N>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(l.on(this._element,_,s=>this._start(s)),l.on(this._element,L,s=>this._end(s)),this._element.classList.add(V)):(l.on(this._element,x,s=>this._start(s)),l.on(this._element,E,s=>this._move(s)),l.on(this._element,g,s=>this._end(s)))}_eventIsPointerPenTouch(s){return this._supportPointerEvents&&(s.pointerType===k||s.pointerType===D)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}return T})}(B)),B.exports}/*!
  * Bootstrap carousel.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(c,A){(function(l,a){c.exports=a(Ot(),H(),Rt(),Dt(),J(),Mt())})(j,function(l,a,o,u,r,x){const E="carousel",_=".bs.carousel",L=".data-api",D="ArrowLeft",k="ArrowRight",V=500,y="next",b="prev",v="left",T="right",tt=`slide${_}`,s=`slid${_}`,N=`keydown${_}`,et=`mouseenter${_}`,st=`mouseleave${_}`,it=`dragstart${_}`,ot=`load${_}${L}`,nt=`click${_}${L}`,F="carousel",O="active",rt="slide",at="carousel-item-end",lt="carousel-item-start",ct="carousel-item-next",ut="carousel-item-prev",$=".active",Y=".carousel-item",dt=$+Y,_t=".carousel-item img",ht=".carousel-indicators",pt="[data-bs-slide], [data-bs-slide-to]",mt='[data-bs-ride="carousel"]',ft={[D]:T,[k]:v},Et={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},bt={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class S extends l{constructor(e,i){super(e,i),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=u.findOne(ht,this._element),this._addEventListeners(),this._config.ride===F&&this.cycle()}static get Default(){return Et}static get DefaultType(){return bt}static get NAME(){return E}next(){this._slide(y)}nextWhenVisible(){!document.hidden&&r.isVisible(this._element)&&this.next()}prev(){this._slide(b)}pause(){this._isSliding&&r.triggerTransitionEnd(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){a.one(this._element,s,()=>this.cycle());return}this.cycle()}}to(e){const i=this._getItems();if(e>i.length-1||e<0)return;if(this._isSliding){a.one(this._element,s,()=>this.to(e));return}const n=this._getItemIndex(this._getActive());if(n===e)return;const I=e>n?y:b;this._slide(I,i[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&a.on(this._element,N,e=>this._keydown(e)),this._config.pause==="hover"&&(a.on(this._element,et,()=>this.pause()),a.on(this._element,st,()=>this._maybeEnableCycle())),this._config.touch&&x.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const n of u.find(_t,this._element))a.on(n,it,I=>I.preventDefault());const i={leftCallback:()=>this._slide(this._directionToOrder(v)),rightCallback:()=>this._slide(this._directionToOrder(T)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),V+this._config.interval))}};this._swipeHelper=new x(this._element,i)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const i=ft[e.key];i&&(e.preventDefault(),this._slide(this._directionToOrder(i)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const i=u.findOne($,this._indicatorsElement);i.classList.remove(O),i.removeAttribute("aria-current");const n=u.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(O),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const i=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=i||this._config.defaultInterval}_slide(e,i=null){if(this._isSliding)return;const n=this._getActive(),I=e===y,h=i||r.getNextActiveElement(this._getItems(),n,I,this._config.wrap);if(h===n)return;const q=this._getItemIndex(h),K=gt=>a.trigger(this._element,gt,{relatedTarget:h,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:q});if(K(tt).defaultPrevented||!n||!h)return;const vt=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(q),this._activeElement=h;const R=I?lt:at,M=I?ct:ut;h.classList.add(M),r.reflow(h),n.classList.add(R),h.classList.add(R);const Tt=()=>{h.classList.remove(R,M),h.classList.add(O),n.classList.remove(O,M,R),this._isSliding=!1,K(s)};this._queueCallback(Tt,n,this._isAnimated()),vt&&this.cycle()}_isAnimated(){return this._element.classList.contains(rt)}_getActive(){return u.findOne(dt,this._element)}_getItems(){return u.find(Y,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return r.isRTL()?e===v?b:y:e===v?y:b}_orderToDirection(e){return r.isRTL()?e===b?v:T:e===b?T:v}static jQueryInterface(e){return this.each(function(){const i=S.getOrCreateInstance(this,e);if(typeof e=="number"){i.to(e);return}if(typeof e=="string"){if(i[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);i[e]()}})}}return a.on(document,nt,pt,function(P){const e=u.getElementFromSelector(this);if(!e||!e.classList.contains(F))return;P.preventDefault();const i=S.getOrCreateInstance(e),n=this.getAttribute("data-bs-slide-to");if(n){i.to(n),i._maybeEnableCycle();return}if(o.getDataAttribute(this,"slide")==="next"){i.next(),i._maybeEnableCycle();return}i.prev(),i._maybeEnableCycle()}),a.on(window,ot,()=>{const P=u.find(mt);for(const e of P)S.getOrCreateInstance(e)}),r.defineJQueryPlugin(S),S})})(Z);var Xt=Z.exports;const Ut=yt(Xt);var Bt={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_NAME:"lucky_trip",BASE_URL:"/lucky_trip/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:Ft,VITE_NAME:$t}=Bt,Yt={data(){return{product:{},carts:[],detail:{},myCarousel:""}},methods:{getProduct(){const{id:c}=this.$route.params,A=`${Ft}/api/${$t}/product/${c}`;this.$http.get(A).then(l=>{this.product=l.data.product,this.detail={...this.product,allImage:[this.product.imageUrl,...this.product.imagesUrl]}}).catch(l=>{Pt.fire({title:l.data.message,icon:"error",timer:1500,showConfirmButton:!1})})},...Ct(Vt,["addToCart"])},watch:{"$route.query":{handler(){this.getProduct()},deep:!0}},components:{FooterBanner:kt},mounted(){this.getProduct(),this.myCarousel=new Ut(this.$refs.myCarousel)}},d=c=>(St("data-v-8682eaf8"),c=c(),wt(),c),qt=d(()=>t("div",{class:"banner"},null,-1)),Kt={class:"container px-4"},Wt={class:"row mt-4 pt-4 align-items-center justify-content-center"},Gt={class:"col-md-6"},zt={id:"carouselExampleFade",class:"carousel slide carousel-fade","data-bs-ride":"carousel",ref:"myCarousel"},Qt={class:"carousel-indicators"},jt=["data-bs-slide-to","aria-label"],Ht={class:"carousel-inner rounded-2",style:{height:"400px"}},Jt={class:"overflow-hidden w-100 img-fluid"},Zt=["src"],te=xt('<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="prev" data-v-8682eaf8><span class="carousel-control-prev-icon" aria-hidden="true" data-v-8682eaf8></span><span class="visually-hidden" data-v-8682eaf8>Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="next" data-v-8682eaf8><span class="carousel-control-next-icon" aria-hidden="true" data-v-8682eaf8></span><span class="visually-hidden" data-v-8682eaf8>Next</span></button>',2),ee={class:"col-md-5 col-12 my-md-0 my-md-0 my-4 align-self-stretch d-flex flex-column justify-content-between"},se={"aria-label":"breadcrumb"},ie={class:"breadcrumb"},oe={class:"breadcrumb-item"},ne={class:"breadcrumb-item"},re={class:"breadcrumb-item active","aria-current":"page"},ae={class:"h2 text-start fw-bold mt-4 text-primary"},le={class:"d-flex flex-column justify-content-between align-items-stretch"},ce={class:"mt-5"},ue={class:"text-start list-unstyled lh-lg"},de=d(()=>t("strong",{class:"text-primary"},"費用包含 | ",-1)),_e=d(()=>t("strong",{class:"text-primary"},"可成團人數 | ",-1)),he=d(()=>t("strong",{class:"text-primary"},"最高報名人數 | ",-1)),pe=d(()=>t("strong",{class:"text-primary"},"交通方式 | ",-1)),me={key:0},fe={key:1},Ee={key:2},be={class:"row justify-content-start align-self-end mt-auto"},ve={class:"col-md-4"},Te={key:0,class:"align-middle text-black-50 text-start"},ge={class:"text-decoration-line-through text-black-50"},ye={key:1,class:"text-start"},Ie=d(()=>t("span",{class:"fw-bold me-2"},"好遊價",-1)),Ce={class:"fs-3 text-primary fw-bold"},Ae={class:"col-md-6 text-start align-self-end"},xe=d(()=>t("i",{class:"bi bi-cart-plus text-white"},null,-1)),Ne={class:"col-md-11 my-4 text-start"},Se=d(()=>t("h4",{class:"fs-4 fw-bold pb-2"},"旅遊行程",-1)),we={class:"col-md-11 my-4 text-start"},Le=d(()=>t("h4",{class:"fs-4 fw-bold pb-2"},"注意事項",-1)),Oe=d(()=>t("ol",{class:"text-primary mt-3 lh-base fw-bold"},[t("li",null,"請於下訂付款後1個月內與導遊確認想出遊日期與時間"),t("li",null,"*如想客製化行程皆由當日導遊與路況來進行而外調整。")],-1)),Re=d(()=>t("div",{class:"col-md-11 my-4 text-start mb-5 pb-5"},[t("h4",{class:"fs-4 fw-bold pb-2"},"退費政策"),t("div",{class:"fw-bold text-primary mb-2"},"*團體與個人皆適用"),t("ul",{class:"lh-lg"},[t("li",null,"旅遊開始前第31日取消：平台需賠償百分之 10%。"),t("li",null,"旅遊開始前第21-30日取消：平台需賠償百分之 20%。"),t("li",null,"旅遊開始前第11-20日取消：平台需賠償百分之 30%。"),t("li",null,"旅遊開始前第4-10日取消：平台需賠償百分之 50%。"),t("li",null,"旅遊開始前第1-3日取消：平台需賠償百分之 70%。 "),t("li",null,"如於出發當天取消訂單、團隊集合逾時、因個人因素私自脫隊、及未通知不參加者恕不退費")])],-1));function De(c,A,l,a,o,u){const r=W("RouterLink"),x=W("footer-banner");return p(),m(X,null,[qt,t("div",Kt,[t("div",Wt,[t("div",Gt,[t("div",zt,[t("div",Qt,[(p(!0),m(X,null,G(o.detail.allImage,(E,g)=>(p(),m("button",{key:g,type:"button","data-bs-target":"#carouselExampleFade","data-bs-slide-to":g,class:Nt({active:g===0}),"aria-current":"true","aria-label":"Slide "+(g+1)},null,10,jt))),128))]),t("div",Ht,[(p(!0),m(X,null,G(o.detail.allImage,E=>(p(),m("div",{class:"carousel-item active",key:E},[t("div",Jt,[t("img",{src:E,class:"object-fit-cover w-100"},null,8,Zt)])]))),128))]),te],512)]),t("div",ee,[t("div",null,[t("nav",se,[t("ol",ie,[t("li",oe,[U(r,{class:"text-decoration-none",to:"/"},{default:z(()=>[C("好嗨遊")]),_:1})]),t("li",ne,[U(r,{class:"text-decoration-none",to:"/products"},{default:z(()=>[C(f(o.product.category),1)]),_:1})]),t("li",re,f(o.product.title),1)])]),t("div",ae,f(o.product.title),1)]),t("div",le,[t("div",null,[t("div",ce,[t("ul",ue,[t("li",null,[de,C(f(o.product.feeincluded),1)]),t("li",null,[_e,C(f(o.product.minpeople)+" 人 ",1)]),t("li",null,[he,C(f(o.product.regist)+" 人 ",1)]),t("li",null,[pe,o.product.is_intercitybus===1?(p(),m("span",me,"包車(租賃、遊覽車)")):w("",!0),o.product.is_walk===1?(p(),m("span",fe,"雙腳萬能")):w("",!0),o.product.is_publictrans===1?(p(),m("span",Ee,"大眾交通(火車、公車、捷運等)")):w("",!0)])])]),t("div",be,[t("div",ve,[typeof o.product.origin_price=="number"?(p(),m("div",Te,[C(" 原價 "),t("span",ge,f(o.product.origin_price),1)])):w("",!0),typeof o.product.origin_price=="number"?(p(),m("div",ye,[Ie,t("span",Ce,f(o.product.price),1)])):w("",!0)]),t("div",Ae,[t("button",{type:"button",onClick:A[0]||(A[0]=At(E=>c.addToCart(o.product.id),["prevent"])),class:"btn btn-primary text-white round-0 px-4 addBtn"},[C("加入購物車 "),xe])])])])])]),t("div",Ne,[Se,t("div",null,f(o.product.schedule),1)]),t("div",we,[Le,t("div",null,"餐點："+f(o.product.content),1),Oe]),Re])]),U(x)],64)}const Be=It(Yt,[["render",De],["__scopeId","data-v-8682eaf8"]]);export{Be as default};
